# Stock Screener Environment Variables
# Copy this file to .env.local and fill in your values

# ========================================
# Database Configuration
# ========================================
# Choose ONE of the following backends:

# OPTION 1: Local PostgreSQL (Docker) - RECOMMENDED for local development
# If these are set, Supabase variables are ignored
DATABASE_URL=postgresql://stockscreener:stockscreener@localhost:5432/stockscreener
# OR use individual variables:
# POSTGRES_HOST=localhost
# POSTGRES_PORT=5432
# POSTGRES_DB=stockscreener
# POSTGRES_USER=stockscreener
# POSTGRES_PASSWORD=stockscreener

# OPTION 2: Supabase (Cloud)
# NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
# NEXT_PUBLIC_SUPABASE_ANON_KEY=xxx
# SUPABASE_SERVICE_ROLE_KEY=xxx

# ========================================
# Docker Configuration (for docker-compose)
# ========================================
POSTGRES_USER=stockscreener
POSTGRES_PASSWORD=stockscreener
POSTGRES_DB=stockscreener
POSTGRES_PORT=5432

# pgAdmin (optional, use with: docker compose --profile admin up)
PGADMIN_EMAIL=admin@stockscreener.local
PGADMIN_PASSWORD=admin
PGADMIN_PORT=5050

# ========================================
# Financial Data APIs (Optional)
# ========================================
# Financial Modeling Prep (FMP) API
# Free tier: 250 calls/day
# Get key at: https://financialmodelingprep.com
FMP_API_KEY=xxx

# ========================================
# AI Features (OpenRouter)
# ========================================
# OpenRouter API Key (REQUIRED for AI fallback)
# Get key at: https://openrouter.ai
# Used for: AI-powered ratio computation when Yahoo/FMP fail
OPENROUTER_API_KEY=sk-or-v1-xxxxxxxxxxxxx

# AI Model Configuration
# Primary model: 'kimi' (Kimi-K2) or 'deepseek' (DeepSeek Reasoner)
# Kimi: ~$0.003/1K tokens (better accuracy, more expensive)
# DeepSeek: ~$0.0002/1K tokens (good accuracy, 15x cheaper)
AI_PRIMARY_MODEL=kimi
AI_FALLBACK_MODEL=deepseek

# AI Feature Flags
# Enable AI as fallback when Yahoo scraping fails (default: true)
ENABLE_AI_FALLBACK=true

# Enable AI qualitative analysis feature (default: true)
ENABLE_AI_ANALYSIS=true

# AI Budget Limits (USD)
# Prevents accidental overspending
AI_MAX_MONTHLY_BUDGET=5.00
AI_MAX_DAILY_BUDGET=0.50
AI_MAX_COST_PER_CALL=0.01

# AI Validation
# Minimum confidence threshold to accept AI data (strict mode)
# Range: 0.00 - 1.00 (recommended: 0.80 for strict, 0.60 for lenient)
AI_CONFIDENCE_THRESHOLD=0.80

# ========================================
# Yahoo Finance (Optional)
# ========================================
# Yahoo Query API (DISABLED by default due to 401 errors)
# Only enable if you have auth cookies/crumb
ENABLE_YAHOO_QUERY_API=false
