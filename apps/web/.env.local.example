# Supabase Configuration
# =====================
# Project URL de votre instance Supabase
NEXT_PUBLIC_SUPABASE_URL=https://ofudbmnwpaelgvoufbln.supabase.co

# Clé anonyme (anon key) - PUBLIQUE, utilisée côté client
# À récupérer dans : Supabase Dashboard > Settings > API > Project API keys > anon/public
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# Clé service role - PRIVÉE, utilisée côté serveur uniquement
# À récupérer dans : Supabase Dashboard > Settings > API > Project API keys > service_role
# ⚠️ IMPORTANT : Ne JAMAIS exposer cette clé côté client !
# En v1, cette clé est optionnelle (pas d'auth). Vous l'ajouterez plus tard si besoin.
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here-optional-in-v1

# Financial Data APIs (Fallback si scraping Yahoo échoue)
# ========================================================
# Financial Modeling Prep API (optionnel, gratuit : 250 calls/jour)
# https://site.financialmodelingprep.com/developer/docs
FMP_API_KEY=your-fmp-api-key-optional

# Polygon.io API (optionnel, gratuit : 5 calls/minute)
# https://polygon.io/
POLYGON_API_KEY=your-polygon-api-key-optional

# ========================================
# AI Features (OpenRouter) - NEW
# ========================================
# OpenRouter API Key (REQUIS pour le fallback AI)
# Obtenez votre clé sur : https://openrouter.ai
# Utilisé pour : calcul de ratios via IA quand Yahoo/FMP échouent
OPENROUTER_API_KEY=sk-or-v1-xxxxxxxxxxxxx

# Configuration des modèles IA - IDs OpenRouter (REQUIS)
# Vérifiez les modèles disponibles sur : https://openrouter.ai/models
# Exemples de modèles populaires :
# - DeepSeek Chat (économique) : deepseek/deepseek-chat
# - DeepSeek V3 (performant) : deepseek/deepseek-v3
# - Kimi K2 Thinking : moonshot/kimi-k2-thinking
# - GPT-4 Turbo : openai/gpt-4-turbo
# IMPORTANT : Utilisez les IDs EXACTS d'OpenRouter
AI_PRIMARY_MODEL=deepseek/deepseek-chat
AI_FALLBACK_MODEL=deepseek/deepseek-v3

# Activation des fonctionnalités IA
# Activer l'IA comme fallback quand le scraping Yahoo échoue
ENABLE_AI_FALLBACK=true

# Activer l'analyse qualitative IA (bouton dans l'UI)
ENABLE_AI_ANALYSIS=true

# Limites budgétaires (USD)
# Prévient les dépenses accidentelles
AI_MAX_MONTHLY_BUDGET=5.00
AI_MAX_DAILY_BUDGET=0.50
AI_MAX_COST_PER_CALL=0.01

# Validation IA
# Seuil de confiance minimum pour accepter les données IA (mode strict)
# Plage : 0.00 - 1.00 (recommandé : 0.80 strict, 0.60 souple)
AI_CONFIDENCE_THRESHOLD=0.80

# Scraping Configuration
# ======================
# Mode headless pour Playwright (true en production, false pour debug)
PLAYWRIGHT_HEADLESS=true

# User agent pour les requêtes HTTP
USER_AGENT="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"

# Cache TTL en secondes (86400 = 24h)
CACHE_TTL=86400

# Development
# ===========
NODE_ENV=development
